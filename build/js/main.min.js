"use strict";window.addEventListener("DOMContentLoaded",function(){!function(){ymaps.ready(function(){(e=new ymaps.Map("yandex-map",{center:[55.753595,37.621031],zoom:16})).behaviors.disable("scrollZoom"),e.behaviors.disable("drag"),e.events.add("click",function(){e.behaviors.enable("scrollZoom"),e.behaviors.enable("drag")}),t=new ymaps.Placemark([55.753595,37.621031],{},{iconLayout:"default#image",iconImageSize:[20,20]}),e.geoObjects.add(t)});var e=void 0,t=void 0}(),function(){var e=$("#menu__button"),t=$(".nav-list"),n=$(".nav__link"),a="nav-list--active";function o(){e.hasClass("active")?e.removeClass("active"):e.addClass("active")}e.on("click",function(e){e.preventDefault(),t.toggleClass(a),o(),console.log("Yes")}),n.on("click",function(){t.removeClass(a),o()}),$(window).resize(function(){1024<$(window).width()&&(t.removeAttr("style"),t.removeClass(a),e.hasClass("active")&&e.removeClass("active"))})}(),$("#slick").slick({dots:!1,infinite:!1,speed:1e3,touchMove:!0,autoplay:!0,slidesToShow:1,slidesToScroll:1,draggable:!0,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-arrow slick-prev"><span>Previous</span></button>',nextArrow:'<button type="button" class="slick-arrow slick-next"><span>Next</span></button>',responsive:[{breakpoint:600,settings:{arrows:!1}}]}),function(){var e=document.getElementById("square"),t=document.getElementById("lamps"),n=document.querySelectorAll(".calc-checkbox__item"),a=document.querySelector(".calc__btn"),o=document.getElementById("total"),r=document.querySelector(".square-warning"),d=document.querySelector(".lamps-warning"),l=void 0,u=0,v=0,y=0;function s(e,t){var n=document.getElementById(e);if(n){var a=n.value;t.test(a)||(a=""),setInterval(function(){var e=n.value;e!=a&&(t.test(e)?a=e:n.value=a)},10)}}s("square",/^[0-9]+[.]?[0-9]*$/),s("lamps",/^[0-9]?[0-9]*$/),e.addEventListener("keyup",function(){v=e.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),t.addEventListener("keyup",function(){y=t.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),function(){for(var e=function(e){n[e].checked&&(l=n[e].value),n[e].addEventListener("change",function(){o.textContent=0,l=n[e].value,u=l*v+50*y})},t=0;t<n.length;t++)e(t)}(),a.addEventListener("click",function(){var e,t,n,a,o,l,s,i,c;""==v&&""==y?(u=0,r.style.display="block",d.style.display="block"):0==v&&0==y?(u=0,r.style.display="block",d.style.display="block"):""==v||0==v?(u=0,r.style.display="block"):""==y||0==y?(u=0,d.style.display="block"):(r.style.display="",d.style.display="",e="total",a=3e3,o=(n=u)-(t=0),l=t,s=Math.abs(Math.floor(a/o)),i=document.getElementById(e),c=setInterval(function(){l+=50,i.textContent=l,n<=l&&clearInterval(c)},s))})}(),$("nav a,a[href='#top'],a[rel='m_PageScroll2id'],a.PageScroll2id").mPageScroll2id({highlightSelector:"nav a"}),(new WOW).init(),$(window).scroll(function(){700<$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInltYXBzIiwibXlNYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImV2ZW50cyIsImFkZCIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkltYWdlU2l6ZSIsImljb25MYXlvdXQiLCJnZW9PYmplY3RzIiwibWVudUJ1dHRvbiIsIm1lbnVNb2JpbGVPcGVuIiwibWVudU1vYmlsZSIsIiQiLCJtZW51TGluayIsInNjcmVlbldpZHRoQ2hlY2siLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY29uc29sZSIsInRvZ2dsZUNsYXNzIiwib24iLCJyZW1vdmVBdHRyIiwiaGFzQ2xhc3MiLCJ0b3VjaE1vdmUiLCJhdXRvcGxheSIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiZHJhZ2dhYmxlIiwicGF1c2VPbkhvdmVyIiwicHJldkFycm93IiwibmV4dEFycm93IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImFycm93cyIsInNxdWFyZSIsImNoZWNrYm94VmFsdWUiLCJsYW1wcyIsImxhbXBzUHJpY2UiLCJnZXRFbGVtZW50QnlJZCIsImNoZWNrYm94ZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxjQnRuIiwicmVzdWx0IiwicXVlcnlTZWxlY3RvciIsImNhbGNUb3RhbCIsInNxdWFyZVZhbHVlIiwic3F1YXJlV2FybmluZyIsImxhbXBzVmFsdWUiLCJsYW1wc1dhcm5pbmciLCJ0b3RhbCIsImVsZW1lbnQiLCJyZWdleCIsImxhc3RWYWx1ZSIsInNldEludGVydmFsIiwidmFsdWUiLCJpZCIsInRlc3QiLCJpbnB1dENoZWNrIiwidGV4dENvbnRlbnQiLCJkaXNwbGF5Iiwic3R5bGUiLCJjaGVja2JveGVzQ2hlY2siLCJjaGVja2VkIiwiaSIsIl9sb29wIiwiaW5jcmVtZW50IiwiZW5kIiwiZHVyYXRpb24iLCJyYW5nZSIsImN1cnJlbnQiLCJzdGVwVGltZSIsInRpbWVyIiwiZmxvb3IiLCJjbGVhckludGVydmFsIiwibVBhZ2VTY3JvbGwyaWQiLCJoaWdobGlnaHRTZWxlY3RvciIsInNjcm9sbCIsInRoaXMiLCJzY3JvbGxUb3AiLCJmYWRlSW4iLCJmYWRlT3V0IiwiY2xpY2siLCJhbmltYXRlIl0sIm1hcHBpbmdzIjoiYUFBQUEsT0FBT0MsaUJBQWlCLG1CQUFvQixZQVE1QyxXQUVJQyxNQUFBQSxNQUtBLFlBRUlDLEVBQUFBLElBQVFELE1BQUlBLElBQU1FLGFBQUksQ0FDbEJDLE9BQUFBLENBQUFBLFVBQVMsV0FDVEMsS0FBQUEsTUFHSkgsVUFBTUksUUFBVUMsY0FDaEJMLEVBQUFBLFVBQU1JLFFBQVVDLFFBQ2hCTCxFQUFBQSxPQUFNTSxJQUFPQyxRQUFJLFdBQ2pCUCxFQUFBQSxVQUFNSSxPQUFOLGNBQ0FKLEVBQUFBLFVBQU1JLE9BQU4sVUFHQUksRUFBQUEsSUFBY1QsTUFBSUEsVUFBTVUsQ0FBQUEsVUFBVyxXQUFXLEdBSTlDQyxDQUZBQyxXQUZBLGdCQUlBRCxjQUFlLENBQUMsR0FBSSxNQXpCNUJWLEVBQUFZLFdBQUFMLElBQUFDLEtBSUksSUFBQVIsT0FBQUEsRUFBQVEsT0FBQUEsRUFKSixHQW9DSSxXQUFBLElBQUFLLEVBR0ZDLEVBQUFBLGlCQUZBQyxFQUFhQyxFQUFFLGFBSWhCQyxFQUFBRCxFQUFBLGNBQ0NGLEVBQUlELG1CQUVBLFNBQUFLLElBQ0dMLEVBQUFBLFNBQUFBLFVBQ0hBLEVBQUFNLFlBQUEsVUFER04sRUFBV08sU0FBUyxVQU8zQkYsRUFBQUEsR0FBQUEsUUFBQUEsU0FBQUEsR0FDQUcsRUFBQUEsaUJBQ0FOLEVBTERPLFlBQUFSLEdBR0NJLElBSURELFFBQUFBLElBQUFBLFNBR0NBLEVBSERNLEdBQUEsUUFBQSxXQUNDUixFQUFXSSxZQUFZTCxHQUl4QkUsTUFHTUQsRUFBQUEsUUFBQUEsT0FBQUEsV0FESSxLQUVKQSxFQUFBQSxRQUFB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UHNCLEdBSzFCSSxFQUlJbkIsRUFFSm9CLEVBQUlDLEtBQVFsQixJQUFBQSxLQUFhbUIsTUFBQUwsRUFBTUMsSUFDM0JDLEVBQUFBLFNBQVdKLGVBQVhWLEdBREFnQixFQUFRbEIsWUFBYSxXQUl6QmdCLEdBUmdCLEdBU1pJLEVBQUFBLFlBQWNGLEVBTE5MLEdBT2ZHLEdBQ0ZJLGNBQUFGLElBR0hELE1BNUdJLEdBZ0hBM0QsRUFBRSxpRUFPTCtELGVBQVcsQ0FBQUMsa0JBQUEsV0FTUmhFLElBQUFBLEtBQUVuQixPQU9EbUIsRUFBQW5CLFFBUERvRixPQUFBLFdBU21CLElBQWpCakUsRUFBQWtFLE1BQUZDLFlBQ0luRSxFQUFFLFVBQUFvRSxTQVpWcEUsRUFBQSxVQUFBcUUsWUFXSXJFLEVBQUUsVUFBVXNFLE1BQU8sV0FDZnRFLEVBQUUsYUFBYXVFLFFBQVEsQ0FBQ0osVUFBVSxHQUFHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHJcblxyXG4vKiDQmtCQ0KHQotCe0JzQndCr0JUg0KHQmtCg0JjQn9Ci0KsgKi9cclxuXHJcblxyXG4vKiBZYW5kZXggbWFwICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgeW1hcHMucmVhZHkoaW5pdCk7XHJcblxyXG4gICAgbGV0IG15TWFwLFxyXG4gICAgICAgIG15UGxhY2VtYXJrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKXsgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwieWFuZGV4LW1hcFwiLCB7XHJcbiAgICAgICAgICAgIGNlbnRlcjogWzU1Ljc1MzU5NSwgMzcuNjIxMDMxXSxcclxuICAgICAgICAgICAgem9vbTogMTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoXCJzY3JvbGxab29tXCIpO1xyXG4gICAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdkcmFnJyk7XHJcbiAgICAgICAgbXlNYXAuZXZlbnRzLmFkZChcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmVuYWJsZShcInNjcm9sbFpvb21cIilcclxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZW5hYmxlKCdkcmFnJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzUzNTk1LCAzNy42MjEwMzFdLCB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIHsgICAgICAgICBcclxuICAgICAgICBpY29uTGF5b3V0OiBcImRlZmF1bHQjaW1hZ2VcIixcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbMjAsIDIwXSAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspOyAgICBcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbi8qIE1vYmlsZSBtZW51ICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgbGV0IG1lbnVCdXR0b24gPSAkKCcjbWVudV9fYnV0dG9uJyksXHJcblx0XHRtZW51TW9iaWxlID0gJCgnLm5hdi1saXN0JyksXHJcblx0XHRtZW51TGluayA9ICQoJy5uYXZfX2xpbmsnKSxcclxuXHRcdG1lbnVNb2JpbGVPcGVuID0gJ25hdi1saXN0LS1hY3RpdmUnO1xyXG5cclxuXHRmdW5jdGlvbiBzY3JlZW5XaWR0aENoZWNrKCkge1xyXG5cdFx0aWYgKG1lbnVCdXR0b24uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0ICAgICAgICBtZW51QnV0dG9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHQgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIG1lbnVCdXR0b24uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCAgICB9XHJcblx0fTtcclxuXHJcblx0bWVudUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRtZW51TW9iaWxlLnRvZ2dsZUNsYXNzKG1lbnVNb2JpbGVPcGVuKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHRcdGNvbnNvbGUubG9nKCdZZXMnKTtcclxuXHR9KTtcclxuXHJcblx0bWVudUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRtZW51TW9iaWxlLnJlbW92ZUNsYXNzKG1lbnVNb2JpbGVPcGVuKTtcclxuXHRcdHNjcmVlbldpZHRoQ2hlY2soKTtcclxuXHR9KTtcclxuXHJcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdGxldCB3ID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0XHRcdGlmICh3ID4gMTAyNCApIHtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0ICAgIG1lbnVNb2JpbGUucmVtb3ZlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cclxuXHRcdFx0ICAgIGlmIChtZW51QnV0dG9uLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdCAgICAgICBcdFx0XHRtZW51QnV0dG9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHQgICAgICAgXHRcdH1cclxuXHRcdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoKTtcclxuLyogU2xpY2sgc2xpZGVyIGNhcm91c2VsICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgJCgnI3NsaWNrJykuc2xpY2soe1xyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICBzcGVlZDogMTAwMCxcclxuICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICBwYXVzZU9uSG92ZXI6IHRydWUsXHJcbiAgICAgIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjxzcGFuPlByZXZpb3VzPC9zcGFuPjwvYnV0dG9uPicsXHJcbiAgICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjxzcGFuPk5leHQ8L3NwYW4+PC9idXR0b24+JyxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBicmVha3BvaW50OiA2MDAsXHJcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICBcclxufSkoKTtcclxuLyogQ2FsY3VsYXRvciAqL1xyXG5cclxuKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIGxldCBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3F1YXJlJyksXHJcbiAgICAgICAgbGFtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFtcHMnKSxcclxuICAgICAgICBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGMtY2hlY2tib3hfX2l0ZW0nKSxcclxuICAgICAgICBjYWxjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGNfX2J0bicpLFxyXG4gICAgICAgIGNhbGNUb3RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbCcpLFxyXG4gICAgICAgIHNxdWFyZVdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3F1YXJlLXdhcm5pbmcnKSxcclxuICAgICAgICBsYW1wc1dhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFtcHMtd2FybmluZycpLFxyXG4gICAgICAgIGNoZWNrYm94VmFsdWUsXHJcbiAgICAgICAgbGFtcHNQcmljZSA9IDUwLFxyXG4gICAgICAgIHRvdGFsID0gMCxcclxuICAgICAgICByZXN1bHQgPSAwLFxyXG4gICAgICAgIHNxdWFyZVZhbHVlID0gMCxcclxuICAgICAgICBsYW1wc1ZhbHVlID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBpbnB1dENoZWNrKGlkLCByZWdleCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RWYWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IGxhc3RWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlucHV0Q2hlY2soJ3NxdWFyZScsIC9eWzAtOV0rWy5dP1swLTldKiQvKTsgLy8g0JTRgNC+0LHQvdGL0LUg0YfQuNGB0LvQsCDRgSDQvtC00L3QvtC5INGC0L7Rh9C60L7QuSBcclxuICAgIGlucHV0Q2hlY2soJ2xhbXBzJywgL15bMC05XT9bMC05XSokLyk7IC8vINCi0L7Qu9GM0LrQviDRhtC10LvRi9C1INGH0LjRgdC70LBcclxuXHJcbiAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XHJcblx0ICAgIHNxdWFyZVZhbHVlID0gc3F1YXJlLnZhbHVlO1xyXG5cdCAgICBzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgbGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHQgICAgY2FsY1RvdGFsLnRleHRDb250ZW50ID0gMDtcclxuICAgICAgICB0b3RhbCA9IGNoZWNrYm94VmFsdWUgKiBzcXVhcmVWYWx1ZSArIChsYW1wc1ZhbHVlICogbGFtcHNQcmljZSk7XHJcblx0fSk7XHJcblxyXG5cdGxhbXBzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdFx0bGFtcHNWYWx1ZSA9IGxhbXBzLnZhbHVlO1xyXG5cdFx0c3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0ICAgIGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgY2FsY1RvdGFsLnRleHRDb250ZW50ID0gMDtcclxuICAgICAgICB0b3RhbCA9IGNoZWNrYm94VmFsdWUgKiBzcXVhcmVWYWx1ZSArIChsYW1wc1ZhbHVlICogbGFtcHNQcmljZSk7XHJcblx0fSk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tib3hlc0NoZWNrKCkgeyBcdFxyXG5cdCAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tib3hlcy5sZW5ndGg7IGkrKykge1xyXG5cdCAgIFx0ICAgIGlmIChjaGVja2JveGVzW2ldLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgY2hlY2tib3hWYWx1ZSA9IGNoZWNrYm94ZXNbaV0udmFsdWU7XHJcblx0ICAgXHQgICAgfVxyXG5cdCAgIFx0IFxyXG5cdCAgIFx0ICAgIGNoZWNrYm94ZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FsY1RvdGFsLnRleHRDb250ZW50ID0gMDtcclxuICAgICAgICAgICAgICAgXHRjaGVja2JveFZhbHVlID0gY2hlY2tib3hlc1tpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRvdGFsID0gY2hlY2tib3hWYWx1ZSAqIHNxdWFyZVZhbHVlICsgKGxhbXBzVmFsdWUgKiBsYW1wc1ByaWNlKTtcclxuXHQgICBcdCAgIH0pOyAgXHJcblx0ICAgIH1cclxuXHR9O1xyXG4gICAgY2hlY2tib3hlc0NoZWNrKCk7XHJcblx0XHJcbiAgICBjYWxjQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgXHRpZiAoc3F1YXJlVmFsdWUgPT0gJycgJiYgbGFtcHNWYWx1ZSA9PSAnJykge1xyXG4gICAgXHRcdHRvdGFsID0gMDtcclxuICAgIFx0XHRzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHRcdGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0fSBlbHNlIGlmIChzcXVhcmVWYWx1ZSA9PSAwICYmIGxhbXBzVmFsdWUgPT0gMCkge1xyXG4gICAgXHRcdHRvdGFsID0gMDtcclxuICAgIFx0XHRzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHRcdGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0fSBlbHNlIGlmIChzcXVhcmVWYWx1ZSA9PSAnJyB8fCBzcXVhcmVWYWx1ZSA9PSAwKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdH0gZWxzZSBpZiAobGFtcHNWYWx1ZSA9PSAnJyB8fCBsYW1wc1ZhbHVlID09IDApIHtcclxuICAgIFx0XHR0b3RhbCA9IDA7XHJcbiAgICBcdFx0bGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2Uge1xyXG4gICAgXHQgICAgc3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0ICAgICAgICBsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBhbmltYXRlVmFsdWUoJ3RvdGFsJywgMCwgdG90YWwsIDMwMDApO1xyXG4gICAgXHR9ICAgXHJcblx0fSk7XHJcblxyXG5cdGZ1bmN0aW9uIGFuaW1hdGVWYWx1ZShpZCwgc3RhcnQsIGVuZCwgZHVyYXRpb24pIHtcclxuICAgICAgICBsZXQgcmFuZ2UgPSBlbmQgLSBzdGFydCxcclxuICAgICAgICAgICAgY3VycmVudCA9IHN0YXJ0LFxyXG4gICAgICAgICAgICBpbmNyZW1lbnQgPSA1MCxcclxuICAgICAgICAgICAgc3RlcFRpbWUgPSBNYXRoLmFicyhNYXRoLmZsb29yKGR1cmF0aW9uIC8gcmFuZ2UpKSxcclxuICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsgXHJcbiAgICBcclxuICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgICAgICAgICBjdXJyZW50ICs9IGluY3JlbWVudDsgXHJcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgID0gY3VycmVudDsgXHJcblxyXG4gICAgICAgIGlmIChjdXJyZW50ID49IGVuZCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBzdGVwVGltZSk7XHJcbiAgfVxyXG5cclxufSkoKTtcclxuLyogU21vb3RoIHNjcm9sbCAqL1xyXG5cclxuKGZ1bmN0aW9uICgpeyBcclxuXHJcbiAgICAkKFwibmF2IGEsYVtocmVmPScjdG9wJ10sYVtyZWw9J21fUGFnZVNjcm9sbDJpZCddLGEuUGFnZVNjcm9sbDJpZFwiKVxyXG4gICAgICAgIC5tUGFnZVNjcm9sbDJpZCh7aGlnaGxpZ2h0U2VsZWN0b3I6XCJuYXYgYVwiXHJcbiAgICB9KTtcclxuXHJcbn0pKCk7XHJcbi8qIFdvdyBzY3JpcHQgKi9cclxuXHJcbihmdW5jdGlvbiAoKXsgXHJcblxyXG4gICAgbmV3IFdPVygpLmluaXQoKTtcclxuXHJcbn0pKCk7XHJcbi8qIFNjcm9sbCB0byB0b3AgKi9cclxuXHJcbihmdW5jdGlvbiAoKXsgXHJcbiBcclxuICAgICQod2luZG93KS5zY3JvbGwoIGZ1bmN0aW9uKCkge1xyXG4gXHJcbiAgICAgICAgaWYoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDcwMCkge1xyXG4gICAgICAgICAgICAkKCcjdG9Ub3AnKS5mYWRlSW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcjdG9Ub3AnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiBcclxuICAgICQoJyN0b1RvcCcpLmNsaWNrKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6MH0sODAwKTtcclxuICAgIH0pO1xyXG4gXHJcbn0pKCk7XHJcblxyXG59KTsiXX0=
